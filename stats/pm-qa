#!/usr/bin/env ruby

stats = {}
while line = STDIN.gets
  case line
  when /^### (cpufreq_\d+):$/
    item = Regexp.last_match[1]
    stats[item] = '' unless stats.key?(item)
  when /^(cpufreq_\d+): (fail|pass|skip)$/
    item = Regexp.last_match[1]
    result = Regexp.last_match[2]
    stats[item] = "#{result}: 1" unless stats.key?(item) && !stats[item].empty?
  end

end

stats.each do |k, v|
  if v.empty?
    puts k + '.skip: 1'
  else
    puts k + '.' + v
  end
end
puts 'total_test: ' + stats.size.to_s
